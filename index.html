<!DOCTYPE html>
<html>
<head>
<title>SMW Map16 Text Editor</title>
<link rel='stylesheet' href='style.css'>
<script src="Map16TextEditor.js"></script>
</head>
<body>


<h1>Super Mario World Map16 Text Editor</h1>

<canvas id='preview' width='512' height='512'></canvas>

<textarea id='message' rows="32" cols="32" oninput="updateText();"></textarea><br>
GFX File: <select id='gfx'>
  <option value="0x000">FG1</option>
  <option value="0x080">FG2</option>
  <option value="0x100">BG1</option>
  <option value="0x180">FG3</option>
  <option value="0x200">BG2</option>
  <option value="0x280">BG3</option>
</select><br>
Map16 page: <input id='page' size='2' value='02' onchange='updatePage()'><br>
<button onclick="exportText();">Export</button><br>
<a href="https://circlefriendo.github.io/smw-map16-text-editor/ExGFXFF.bin">ExGFX File</a>
<script>

const previewWidth = 256, previewHeight = 256;
const tileWidth = 8, tileHeight = 8;
const scale = 2;

var data;
var page = "02";

let tiles = new Image();
tiles.src = 'Tiles.png';
tiles.addEventListener('load', redrawPreview);

let preview = document.getElementById('preview');
context = preview.getContext('2d');
context.scale(scale, scale);

loadText();

</script>
</body>
</html>

